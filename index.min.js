(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a:typeof define==="function"&&define.amd?define(a):(b.$download=a)})(this,function(c,a,h){var g="__iframe_downloader__";var d=document.querySelector("iframe[name="+g+"]");if(!!d===false){d=document.createElement("iframe");d.style.display="none";d.name=g;document.body.appendChild(d)}h=h||"POST";var f=function(l,j){j=j||"";var i=[];for(var m in l){var k=l[m];typeof k==="object"?i.push.apply(i,f(k,j+"["+m+"]")):i.push({name:j?j+"["+m+"]":m,value:k})}return i};var e=document.createElement("form");e.style.display="none";e.target=g;e.method=h;e.acceptCharset="utf-8";e.action=c;var b=document.createDocumentFragment();a=f(a);a.forEach(function(j){var i=document.createElement("input");i.type="hidden";i.name=j.name;i.value=j.value;b.appendChild(i)});e.appendChild(b);document.body.appendChild(e);e.submit();document.body.removeChild(e)});